<?php  class Live_model extends CI_Model {        function Live_model()      {          // Call the Model constructor          parent::__construct();      }  	function insert_user($arr)	{		$this->first_name = $arr['first_name'];		$this->last_name = $arr['last_name'];		$this->password = $arr['password'];		$this->username = $arr['username'];		$this->email = $arr['email'];		$this->country_id = $arr['country_id'];		$this->reg_date = $arr['reg_date'];		$this->sex = $arr['sex'];		$this->last_login_date = time();//$arr('last_login_date');		$this->db->insert('user',$this);	}	function update_user($id,$arr)	{		$this->first_name = $arr['first_name'];		$this->last_name = $arr['last_name'];		$this->password = $arr['password'];		$this->username = $arr['username'];		$this->email = $arr['email'];		$this->country_id = $arr['country_id'];		$this->channel_id = $arr['channel_id'];		$this->reg_date = $arr['reg_date'];		$this->sex = $arr['sex'];		$this->last_login_date =time();// $arr('last_login_date');		$this->visa = 123456789;//$arr('visa');		$this->db->update('user',$this,array('id' => $id));	}	function insert_channel($ar)	{		$this->user_id = $ar['user_id'];		$this->name = $ar['name'];		$this->disc = $ar['disc'];		$this->creation_date = $ar['creation_date'];				//************************ get free type ref -----------//		$this->type_id = $this->live_model->get_channel_type_byname('free');		$this->db->insert('channel',$this);	}	function get_channel_type_byname($s)	{		$query = $this->db->get_where('channel_type',array('name' =>$s));		$d= $query->result();			return $d[0]->id;	}	function get_channel_id_byname($s)	{		$query = $this->db->get_where('channel',array('name' =>$s));		$i =$query->result();		return $i[0]->id;	}	function login($a)	{		$u = $a['username'];		$p = $a['password'];		$query = $this->db->get_where('user',array('username' =>$u));		if ($query->num_rows() > 0)		{			$i =$query->result();			if($i[0]->password == $p)				return $i[0]->id;			else return -1;		}		return -1;	}	function get_userid_byname($s)	{		$query = $this->db->get_where('user',array('username' =>$s));		$i =$query->result();		return $i[0]->id;	}	function insert_video($v)	{		$this->db->insert('video',$v);	}	function get_channelid_byuserid($s)	{		$query = $this->db->get_where('channel',array('user_id' =>$s));		$i =$query->result();		return $i[0]->id;	}	function get_videolink_byid($s)	{		$query = $this->db->get_where('video',array('id' =>$s));		$i =$query->result();		return $i[0]->link;	}			function insert_rate($arr)	{		$this-> video_id= $arr['video_id'];		$this->user_id = $arr['user_id'];		$this->value = $arr['value'];		$this->db->insert('rate',$this);	}	function insert_comment($arr)    {		$this->db->insert('external_comment',$arr);	}						  }  